                 ╔════════════════════════════════════════════╗
═════════════════╣ BiDi test – should be cat’ed at 80 columns ╠═════════════════
                 ╚════════════════════════════════════════════╝

[01mIn the text examples, the subsection title sometimes shows the wire order,
transcribed to English (“Shalom” abbreviated to occupy the same width).[m
[32mThis is followed by the reference rendering, using similar LTR glyphs.[m
[36mFinally the actual rendering which should match the line above.[m

All words, except for subsection titles under explicit modes, should show up
in human readable order.

Boxes should all show up nicely.

                                ┌──────────────┐
────────────────────────────────┤ Implicit LTR ├────────────────────────────────
                                └──────────────┘
[01m⸤Hello⸣ ⸤Shlm⸣[m
[32m⸤Hello⸣ ⸤oi7w⸣[m
[36m⸤Hello⸣ ⸤שָׁלוֹם⸣[m

[01mHello01 ⸤Hello02⸣ Hello03 Shlm01 ⸤Shlm02⸣ Shlm03[m
[32mHello01 ⸤Hello02⸣ Hello03 03oi7w ⸢02oi7w⸥ 01oi7w[m
[36mHello01 ⸤Hello02⸣ Hello03 שָׁלוֹם01 ⸤שָׁלוֹם02⸣ שָׁלוֹם03[m

[01m⸤Shlm⸣ ⸤Hello⸣[m
[32m⸤oi7w⸣ ⸤Hello⸣[m
[36m⸤שָׁלוֹם⸣ ⸤Hello⸣[m

[01mShlm01 ⸤Shlm02⸣ Shlm03 Hello01 ⸤Hello02⸣ Hello03[m
[32m03oi7w ⸢02oi7w⸥ 01oi7w Hello01 ⸤Hello02⸣ Hello03[m
[36mשָׁלוֹם01 ⸤שָׁלוֹם02⸣ שָׁלוֹם03 Hello01 ⸤Hello02⸣ Hello03[m

[01mParagraph wrapping at foreign word[m
[32mLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor w[m
[32moi7 incididunt ut labore et dolore magna aliqua.[m
[36mLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor שָׁלוֹם incididunt ut labore et dolore magna aliqua.[m

[01mBox[m
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   a╚═╝b  א┘─└ב   ╰─╯

[01mBox in mirrored mode[m[?2500h
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   a╚═╝b  א└─┘ב   ╰─╯[?2500l

                                ┌──────────────┐
────────────────────────────────┤ Implicit RTL ├────────────────────────────────
                                └──────────────┘
[01m⸤Hello⸣ ⸤Shlm⸣[m
                                                                  [32m⸢oi7w⸥ ⸢Hello⸥[m
[36m[3 S⸤Hello⸣ ⸤שָׁלוֹם⸣[0 S[m

[01mHello01 ⸤Hello02⸣ Hello03 Shlm01 ⸤Shlm02⸣ Shlm03[m
                                [32m03oi7w ⸢02oi7w⸥ 01oi7w Hello01 ⸤Hello02⸣ Hello03[m
[36m[3 SHello01 ⸤Hello02⸣ Hello03 שָׁלוֹם01 ⸤שָׁלוֹם02⸣ שָׁלוֹם03[0 S[m

[01m⸤Shlm⸣ ⸤Hello⸣[m
                                                                  [32m⸢Hello⸥ ⸢oi7w⸥[m
[36m[3 S⸤שָׁלוֹם⸣ ⸤Hello⸣[0 S[m

[01mShlm01 ⸤Shlm02⸣ Shlm03 Hello01 ⸤Hello02⸣ Hello03[m
                                [32mHello01 ⸤Hello02⸣ Hello03 03oi7w ⸢02oi7w⸥ 01oi7w[m
[36m[3 Sשָׁלוֹם01 ⸤שָׁלוֹם02⸣ שָׁלוֹם03 Hello01 ⸤Hello02⸣ Hello03[0 S[m

[01mParagraph with wrong direction (should look broken)[m
[32mw Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor[m
                                [32m.incididunt ut labore et dolore magna aliqua oi7[m
[36m[3 SLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor שָׁלוֹם incididunt ut labore et dolore magna aliqua.[0 S[m

[01mBox[m[3 S
┓━┏    ╗═╔    ┐─┌    ╮─╭
┛━┗   a╚═╝b  א┘─└ב   ╯─╰[0 S

[01mBox in mirrored mode[m[3 S[?2500h
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   a╚═╝b  א└─┘ב   ╰─╯[?2500l[0 S

                        ┌──────────────────────────────┐
────────────────────────┤ Implicit auto (LTR fallback) ├────────────────────────
                        └──────────────────────────────┘
[01m⸤Hello⸣ ⸤Shlm⸣[m
[32m⸤Hello⸣ ⸤oi7w⸣[m
[36m[?2501h⸤Hello⸣ ⸤שָׁלוֹם⸣[?2501l[m

[01m⸤Shlm⸣ ⸤Hello⸣[m
                                                                  [32m⸢Hello⸥ ⸢oi7w⸥[m
[36m[?2501h⸤שָׁלוֹם⸣ ⸤Hello⸣[?2501l[m

[01mParagraph wrapping at foreign word[m
[32mLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor w[m
[32moi7 incididunt ut labore et dolore magna aliqua.[m
[36m[?2501hLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor שָׁלוֹם incididunt ut labore et dolore magna aliqua.[?2501l[m

[01mBox[m[?2501h
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   a╚═╝b  א┘─└ב   ╰─╯[?2501l

[01mBox in mirrored mode[m[?2501h[?2500h
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   a╚═╝b  א└─┘ב   ╰─╯[?2500l[?2501l

                        ┌──────────────────────────────┐
────────────────────────┤ Implicit auto (RTL fallback) ├────────────────────────
                        └──────────────────────────────┘
[01m⸤Hello⸣ ⸤Shlm⸣[m
[32m⸤Hello⸣ ⸤oi7w⸣[m
[36m[3 S[?2501h⸤Hello⸣ ⸤שָׁלוֹם⸣[?2501l[0 S[m

[01m⸤Shlm⸣ ⸤Hello⸣[m
                                                                  [32m⸢Hello⸥ ⸢oi7w⸥[m
[36m[3 S[?2501h⸤שָׁלוֹם⸣ ⸤Hello⸣[?2501l[0 S[m

[01mParagraph wrapping at foreign word[m
[32mLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor w[m
[32moi7 incididunt ut labore et dolore magna aliqua.[m
[36m[3 S[?2501hLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor שָׁלוֹם incididunt ut labore et dolore magna aliqua.[?2501l[0 S[m

[01mBox[m[3 S[?2501h
┓━┏    ╗═╔    ┐─┌    ╮─╭
┛━┗   א╝═╚ב  a└─┘b   ╯─╰[?2501l[0 S

[01mBox in mirrored mode[m[3 S[?2501h[?2500h
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   א╚═╝ב  a└─┘b   ╰─╯[?2500l[?2501l[0 S

                                ┌──────────────┐
────────────────────────────────┤ Explicit LTR ├────────────────────────────────
                                └──────────────┘
[01m⸤Hello⸣ ⸤mlhS⸣[m
[32m⸤Hello⸣ ⸤oi7w⸣[m
[36m[8l⸤Hello⸣ ⸤םוֹלשָׁ⸣[8h[m

[01m⸤mlhS⸣ ⸤Hello⸣[m
[32m⸤oi7w⸣ ⸤Hello⸣[m
[36m[8l⸤םוֹלשָׁ⸣ ⸤Hello⸣[8h[m

[01mBox[m[8l
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   a╚═╝b  ב└─┘א   ╰─╯[8h

[01mBox in mirrored mode[m[8l[?2500h
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   a╚═╝b  ב└─┘א   ╰─╯[?2500l[8h

                                ┌──────────────┐
────────────────────────────────┤ Explicit RTL ├────────────────────────────────
                                └──────────────┘
[01m⸤olleH⸣ ⸤Shlm⸣[m
                                                                  [32m⸢oi7w⸥ ⸢Hello⸥[m
[36m[8l[3 S⸤olleH⸣ ⸤שָׁלוֹם⸣[0 S[8h[m

[01m⸤Shlm⸣ ⸤olleH⸣[m
                                                                  [32m⸢Hello⸥ ⸢oi7w⸥[m
[36m[8l[3 S⸤שָׁלוֹם⸣ ⸤olleH⸣[0 S[8h[m

[01mFullwidth characters with underlines[m
                        [32m[4m［Ｌｏｒｅｍ[24m  ｉｐｓｕｍ  ｄｏｌｏｒ  ｓｉｔ  [4:3mａｍｅｔ）[m
[36m[8l[3 S[4:3m（ｔｅｍａ[24m  ｔｉｓ  ｒｏｌｏｄ  ｍｕｓｐｉ  [4mｍｅｒｏＬ］[0 S[8h[m

[01mBox[m[8l[3 S
┓━┏    ╗═╔    ┐─┌    ╮─╭
┛━┗   b╝═╚a  א┘─└ב   ╯─╰[0 S[8h

[01mBox in mirrored mode[m[8l[3 S[?2500h
┏━┓    ╔═╗    ┌─┐    ╭─╮
┗━┛   b╚═╝a  א└─┘ב   ╰─╯[?2500l[0 S[8h

────────────────────────────────────────────────────────────────────────────────
